<!DOCTYPE html>
<div id="navigator" class="imported">
    <div class="tabs">
        <ul>
            <li data-bind="click: () => { navigatorSection('files') },
                           css: {'is-active': navigatorSection() === 'files'}">
                <a>Files</a></li>
            <li data-bind="click: () => { navigatorSection('logic') },
                           css: {'is-active': navigatorSection() === 'logic'}">
                <a>Modules</a></li>
        </ul>
    </div>
    <aside data-bind="visible: navigatorSection()==='files'"
           class="menu" id="files-navigator">
        <p class="menu-label">FILES</p>
        <ul class="menu-list" data-bind="foreach: references">
            <li data-bind="click: $parent.selectNavigatorFile.bind($parent)">
                <span class="icon is-small pull-left" style="margin-right: 5px; margin-top: 10px; margin-left: 10px">
                    <i class="fa fa-file-text-o"></i>
                </span>
                <a href="#" data-bind="text: $data.label,
                                       css: {'is-active': $parent.selectedReference() && $parent.selectedReference().id === $data.id}"></a>
            </li>
        </ul>

    </aside>
    <aside  data-bind="visible: navigatorSection()==='logic'"
            class="menu" id="modules-navigator">
        <p class="menu-label">DOCUMENTS</p>
        <ul class="menu-list" data-bind="foreach: documentUnits">
            <li data-bind="click: $parent.selectNavigatorFile.bind($parent)">
                <span class="icon is-small pull-left" style="margin-right: 5px; margin-top: 10px; margin-left: 10px">
                    <i class="fa fa-file-text-o"></i>
                </span>
                <a data-bind="text: label,
                              css: {'is-active': $parent.selectedReference() && $parent.selectedReference().id === id}"></a>
                <p data-bind="if: $parent.selectedReference() && $parent.selectedReference().id === id" class="menu-label submenu-label">Declares</p>
                <span data-bind="if: $parent.selectedReference() && $parent.selectedReference().id === id">
                    <ul data-bind="foreach: declares"
                        class="menu-list"
                        style="margin-left: 15px">
                        <li><p data-bind="text: $data.label"></p></li>
                    </ul>
                </span>
                <p data-bind="if: $parent.selectedReference() && $parent.selectedReference().id === id" class="menu-label submenu-label">Encodes</p>
                <ul data-bind="if: $parent.selectedReference() && $parent.selectedReference().id === id" class="menu-list" style="margin-left: 15px">
                    <li><p data-bind="text: encodes.label"></p></li>
                </ul>
            </li>
        </ul>
        <p class="menu-label">FRAGMENTS</p>
        <ul class="menu-list" data-bind="foreach: fragmentUnits">
            <li data-bind="click: $parent.selectNavigatorFile.bind($parent)">
                <span class="icon is-small pull-left" style="margin-right: 5px; margin-top: 10px; margin-left: 10px">
                    <i class="fa fa-puzzle-piece"></i>
                </span>
                <a data-bind="text: label,
                              css: {'is-active': $parent.selectedReference() && $parent.selectedReference().id === id}"></a>
                <p data-bind="if: $parent.selectedReference() && $parent.selectedReference().id === id" class="menu-label submenu-label">Encodes</p>
                <ul data-bind="if: $parent.selectedReference() && $parent.selectedReference().id === id" class="menu-list" style="margin-left: 15px">
                    <li>
                        <p data-bind="text: $data.encodes.label"></p>
                    </li>
                </ul>
            </li>
        </ul>
        <p class="menu-label">MODULES</p>
        <ul class="menu-list" data-bind="foreach: moduleUnits">
            <span class="icon is-small pull-left" style="margin-right: 5px; margin-top: 10px; margin-left: 10px">
                    <i class="fa fa-archive"></i>
                </span>
            <li data-bind="click: $parent.selectNavigatorFile.bind($parent)">
                <a data-bind="text: label,
                              css: {'is-active': $parent.selectedReference().id === id}"></a>
            </li>
        </ul>
    </aside>
</div>